PROGRAM := (EMPTY-LINE | PROGRAM-SENTENCE)+

---

PROGRAM-SENTENCE := TERM NEWLINE

---

TERM := PROGRAM-WORD (SPACE PROG-WORD)*

---

PROGRAM-WORD :=  ASSOCIATION
        | PARENTHESES-GROUP | SQUARE-BRACKETS-GROUP | CURLY-BRACKETS-GROUP
        | POSTFIX-PARENTHESES-GROUP | POSTFIX-SQUARE-BRACKETS-GROUP
        | QUOTATION
        | ATOM

---

ASSOCIATION := {PROGRAM-WORD - ASSOCIATION} ':' PROGRAM-WORD

PARENTHESES-GROUP := '(' (TERM (',' SPACE TERM)*)? ')'

SQUARE-BRACKETS-GROUP := '[' (TERM (',' SPACE TERM)*)? ']'

POSTFIX-PARENTHESES-GROUP := {PROGRAM-WORD - ASSOCIATION} PARENTHESES-GROUP

POSTFIX-SQUARE-BRACKETS-GROUP := {PROGRAM-WORD - ASSOCIATION} SQUARE-BRACKETS-GROUP

CURLY-BRACKETS-GROUP := '{' TERM? | (NEWLINE PROGRAM-SENTENCE+) '}'

QUOTATION := ('"' QUOTED '"') | ('```' QUOTED-FORMAT? NEWLINE QUOTED NEWLINE '```')
// note: should be /(?!\)"/ rather than /"/, otherwise escaped double quote can be misinterpreted
